syntax = "proto3";

package department.v1;

option go_package = "./pb/department/v1;departmentv1";

service DepartmentService {

    rpc AddDepartment(AddDepartmentRequest) returns (DepartmentResponse);
    rpc ListDepartment(ListDepartmentRequest) returns (DepartmentsResponse);

}
message Department {
    uint32 id = 1;             
    string title = 2;
    string department_type = 3;
    string parent = 4;         
    string label = 5;
}

message Departments {
    repeated Department data = 1; 
}

message PagePack {
    int32 page = 1;
    int32 page_size = 2;
    int64 total_rows = 3;
    int32 total_pages = 4;
}

message DepartmentResponse {
    string error_code = 1;
    string status = 2;
    Department data = 3;
    string message = 4;
}

message DepartmentsResponse {
    string error_code = 1;
    string status = 2;
    repeated Department data = 3;
    string message = 4;
    PagePack pagination = 5;
}

message AddDepartmentRequest {
    string title = 1;
    uint32 department_type_id = 2;
    uint32 parent_id = 3;
}

message ListDepartmentRequest {
    string title = 1;
    string department = 2;
    uint32 department_type_id = 3;
    string department_type = 4;
    uint32 parent_id = 5;
    string parent = 6;
    bool expand = 7;
    string sort = 8;
    string order = 9;
    int32 page = 10;
    int32 page_size = 11;
}